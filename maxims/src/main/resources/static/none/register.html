
<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">
<title>用户登录</title>
<script src="/static/js/jquery-3.6.0.min.js"></script>
<script src="/static/js/jquery.form.js"></script>
<link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="/static/css/signin.css" rel="stylesheet" />
<script type="text/javascript">
	$(document).ready(function() {
		var options = {
			type : 'post',
			url : '/none/register',
			contentType : 'application/json',
			dataType : 'JSON',
			//data : $('#form-register').serializeObject(),
			success : successCallback,
			error : errorCallback,
		};
		$("#btn-register").click(function() {
			options.data = {};
			$.map($('#form-register').serializeArray(), function(n, i) {
				options.data[n['name']] = n['value'];
			});
			options.data = JSON.stringify(options.data);
			console.info(options.data);
			$.ajax(options);
		});
	});

	function successCallback(responseJSON, statusText, xhr, $form) {
		alert(responseJSON.message);
		location.href = '/login';
	}

	function errorCallback(error, statusText, xhr, $form) {
		console.log(error.responseJSON.error);
		$("#dev-error").html(error.responseJSON.message);
		$("#dev-error").css('display', 'block');
		//alert(error.responseJson.message);
	}
</script>
</head>
<body>
	<div class="container">
		<form class="form-signin" id="form-register" method="post" action="/none/register">
			<h2 class="form-signin-heading">用户注册</h2>
			<div id="dev-error" style="display: none" class="alert alert-danger" role="alert"></div>
			<p>
				<label for="username" class="sr-only">用户帐号</label>
				<input type="text" id="username" name="username" value="admin" class="form-control" placeholder="Username" required
					autofocus>
			</p>
			<p>
				<label for="password" class="sr-only">用户密码</label>
				<input type="password" id="password" name="password" value="naste123456" class="form-control" placeholder="Password"
					required>
			</p>
			<button class="btn btn-lg btn-primary btn-block" id="btn-register" type="button">注册</button>
		</form>
	</div>
</body>
</html>